# Study Planner API

RESTful API для управления учебным расписанием и заданиями. Бэкенд для консольного приложения "Планировщик учебного процесса".

## Описание

Этот API позволяет:

- Управлять занятиями (добавлять, просматривать, обновлять, удалять)
- Управлять заданиями (добавлять, просматривать, обновлять, удалять)
- Получать сводную нагрузку по дням

Данные хранятся в JSON-файлах (`data/schedule.json`, `data/assignments.json`).

## Требования

- Go (версия 1.21 или выше)

## Установка и запуск

1.  **Клонируйте репозиторий:**
    ```bash
    git clone https://github.com/a-liza223/study-planner-api.git
    cd study-planner-api
    ```

2.  **Установите зависимости:**
    ```bash
    go mod tidy
    ```

3.  **Запустите сервер:**
    ```bash
    go run main.go
    ```
    Сервер будет запущен на `http://localhost:3000` 
4.  
## Использование API (Примеры)

Вы можете использовать инструменты командной строки, такие как `curl`, или специализированные приложения, такие как Postman, для взаимодействия с API.

### Занятия (Lessons)

*   **GET `/Lessons`** - Получить список всех занятий.
*   **POST `/Lessons`** - Добавить новое занятие.
    *   **Тело запроса (JSON):**
        ```json
        {
          "subject": "string",      
          "startTime": "string",    
          "endTime": "string",      
          "location": "string"     
        }
        ```
    *   **Пример тела:**
        ```json
        {
          "subject": "Математический Анализ",
          "startTime": "2025-12-10 10:00",
          "endTime": "2025-12-10 11:30",
          "location": "Аудитория 205"
        }
        ```
*   **GET `/Lessons/{id}`** - Получить занятие по его ID (например, `/Lessons/1`).
*   **PUT `/Lessons/{id}`** - Обновить занятие по его ID.
    *   **Тело запроса (JSON):** Аналогично POST, но обновляются только указанные поля (в зависимости от реализации, часто заменяет весь объект).
        ```json
        {
          "subject": "Обновленный предмет",
          "startTime": "2025-12-10 10:15",
          "endTime": "2025-12-10 11:45",
          "location": "Новое место"
        }
        ```
*   **DELETE `/Lessons/{id}`** - Удалить занятие по его ID.

### Задания (Assignments)

*   **GET `/assignments`** - Получить список всех заданий.
*   **POST `/assignments`** - Добавить новое задание.
    *   **Тело запроса (JSON):**
        ```json
        {
          "title": "string",        
          "description": "string",  
          "dueDate": "string",      
          "completed": "boolean"    
        }
        ```
    *   **Пример тела:**
        ```json
        {
          "title": "Лабораторная работа №5",
          "description": "Выполнить задания по разделу 3.2",
          "dueDate": "2025-12-15 23:59",
          "completed": false
        }
        ```
*   **GET `/assignments/{id}`** - Получить задание по его ID (например, `/assignments/1`).
*   **PUT `/assignments/{id}`** - Обновить задание по его ID.
    *   **Тело запроса (JSON):** Аналогично POST.
        ```json
        {
          "title": "Обновленное задание",
          "description": "Новое описание",
          "dueDate": "2025-12-20T23:59:00Z",
          "completed": true
        }
        ```
*   **DELETE `/assignments/{id}`** - Удалить задание по его ID.



*   **GET `/workload`** - Получить сводку нагрузки по дням. Этот эндпоинт анализирует *задания* и группирует их по дням, когда они истекают (`dueDate`).
    *   **Параметры запроса (опционально):**
        *   `groupBy` (string): По какому полю группировать. Возможные значения: `day`, `week`, `month`. По умолчанию `day`.
    *   **Пример запроса:** `GET /workload?groupBy=week`
    *   **Ожидаемый ответ (пример структуры):**
        ```json
        {
          "groupBy": "day",
          "workload": [
            {
              "date": "2025-12-15",
              "count": 2,
              "assignments": [ /* список заданий на этот день */ ]
            },
            {
              "date": "2025-12-20",
              "count": 1,
              "assignments": [ /* список заданий на этот день */ ]
            }
          ]
        }
        ```
    
## Структура проекта

- `main.go` - Основной файл приложения, запускающий сервер и определяющий маршруты.
- `handlers/` - (Возможная папка) Содержит функции обработки запросов для каждого маршрута.
- `models/` - (Возможная папка) Содержит структуры данных (например, `Lesson`, `Assignment`).
- `data/` - Папка для хранения данных (`schedule.json`, `assignments.json`).


- `main.go` - Основной файл приложения, запускающий сервер и определяющий маршруты.
- `handlers/` - (Возможная папка) Содержит функции обработки запросов для каждого маршрута.
- `models/` - (Возможная папка) Содержит структуры данных (например, `Lesson`, `Assignment`).
- `data/` - Папка для хранения данных (`schedule.json`, `assignments.json`).
